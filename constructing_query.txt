    query = {
        "query": {
            "bool": {
                "must": [
                    {"multi_match": {
                        "query": [types of assignment that the student is interested in],
                        "fields": ["assignments", "grading"]
                    }},
                    {"multi_match": {
                        "query": [first topic that the student is interested in],
                        "fields": ["course name", "description"]
                    }},
                    {"multi_match": {
                        "query": [second topic that the student is interested in],
                        "fields": ["course name", "description"]
                    }},
                ],
                "should": [
                    {"multi_match": {
                        "query": [first topic that the student is interested in],
                        "fields": ["course name", "description"]
                    }},
                    {"multi_match": {
                        "query": [second topic that the student is interested in],
                        "fields": ["course name", "description"]
                    }},
                    [continue multi_match clauses for all the topics that the student is interested in]
                ],
                "must_not": [
                    {"multi_match": {
                        "query": [types of assignment that the student is not interested in],
                        "fields": ["course name", "description"]
                    }},
                    [continue multi_match clauses for all the types of assignments that the student is interested in]
                ],
                "filter": [
                    {"terms": {"distribution area": [array of all of the requirements that the student wants; empty array if there is no specific distribution area]}},
                    {"terms": {"department": [array of all of the departments that the student wants; empty array if there is no specific department]}},
                ],
            }
        }
    }


There are several characteristics that a student may be looking for

A topic 
must: match: in course name or description

A department
filter: terms in department codes
must match: department name 

A distribution requirement
filter: terms in distribution area

An assignment or grading structure
must: match in grading or assignments
must_not: match in grading or assignments






Great, now I'll have you write the prompt that we'll send to the LLM. It will go something like this (please feel free to use this as a rough guideline, you need not follow it exactly)

You are a helpful assistant [something about how they'll help student's find courses]. You will ask the user a series of questions about the course that the user is looking for. Your goal is to collect enough information in order to construct a search query. [give more info and background]. You will attempt to get the following information:

Course topics: Try to get some topics that the user is interested in. Although they may have no particular topic in mind, may have one, or may have quite a few, you're job is to get some more information on this. Some terms in this might include 'American History', 'Environment', 'science', [give a list of example topics, making sure that you give a representative slate of examples, with topics spreading across many departments and levels of specificity] 

Course department: Try to get an idea of the department(s) that the user is interested in taking classes in. They may be interested in any department, one department, or several departments. 

Grading and assignment structure: Try to get an idea of the grading and assignment structure that the student wants. Also, try to get an idea of the grading and assignment structure that the student does NOT want in their course. Some terms in this might include exam, project, reading, presentation, etc.

Distribution area: Try to get an idea of the distribution area that the user is interested in taking classes in. They may be interested in no specific distribution area, one distribution area, or several distribution areas. 

You will then construct a search query with the following structure, and output it as a JSON. 

[this is the skeleton that I have so far, please change it as you see fit in order to best provide the information to the LLM]

"query": {
            "bool": {
                "must": [
                    {
                        "bool": {
                            "should": [
                            {
                                "multi_match": {
                                    "query": [first topic that the student is interested in],
                                    "fields": ["course name", "description"]
                                }
                            },
                            {
                                "multi_match": {
                                    "query": [first topic that the student is interested in],
                                    "fields": ["course name", "description"]
                                }
                            },
                            [continue multi_match clauses for all the topics that the student is interested in]
                            ]
                        }
                    },
                    {
                        "multi_match": {
                            "query": [types of assignment that the student is interested in],
                            "fields": ["course name", "description"]
                        }
                    },
                    [continue multi_match clauses for all the types of assignments that the student is interested in]
                ],
                "must_not": [
                    {
                        "multi_match": {
                            "query": [types of assignment that the student is not interested in],
                            "fields": ["course name", "description"]
                        }
                    },
                    [continue multi_match clauses for all the types of assignments that the student is not interested in]
                ],
                "filter": [
                    {
                        "terms": {"distribution area": [array of all of the requirements that the student wants; empty array if there is no specific distribution area]}
                    },
                    {
                        "terms": {"department": [array of all of the departments that the student wants; empty array if there is no specific department]}
                    },
                ]
            }
        }





    query = {
        "query": {
            "bool": {
                "must": [
                    {"multi_match": {
                        "query": [types of assignment that the student is interested in],
                        "fields": ["assignments", "grading"]
                    }},
                    {"multi_match": {
                        "query": [first topic that the student is interested in],
                        "fields": ["course name", "description"]
                    }},
                    {"multi_match": {
                        "query": [second topic that the student is interested in],
                        "fields": ["course name", "description"]
                    }},
                ],
                "should": [
                    {"multi_match": {
                        "query": [first topic that the student is interested in],
                        "fields": ["course name", "description"]
                    }},
                    {"multi_match": {
                        "query": [second topic that the student is interested in],
                        "fields": ["course name", "description"]
                    }},
                    [continue multi_match clauses for all the topics that the student is interested in]
                ],
                "must_not": [
                    {"multi_match": {
                        "query": [types of assignment that the student is not interested in],
                        "fields": ["course name", "description"]
                    }},
                    [continue multi_match clauses for all the types of assignments that the student is interested in]
                ],
                "filter": [
                    {"terms": {"distribution area": [array of all of the requirements that the student wants; empty array if there is no specific distribution area]}},
                    {"terms": {"department": [array of all of the departments that the student wants; empty array if there is no specific department]}},
                ],
            }
        }
    }


"query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "multi_match": {
                  "query": "science",
                  "fields": ["course name", "description"]
                }
              },
              {
                "multi_match": {
                  "query": "technology",
                  "fields": ["course name", "description"]
                }
              }
            ]
          }
        },
        {
          "multi_match": {
            "query": "project",
            "fields": ["grading", "assignments"]
          }
        }
      ]
      "must_not": [
        "multi_match": {
            "query": "project",
            "fields": ["grading", "assignments"]
          }
      ]
      "filter": [
        {"terms": {"distribution area": [array of all of the requirements that the student wants; empty array if there is no specific distribution area]}},
        {"terms": {"department": [array of all of the departments that the student wants; empty array if there is no specific department]}},
      ]
    }
}



---

You are a helpful assistant tasked with assisting students in finding the most suitable courses at Princeton University based on their interests and preferences. Your goal is to ask the user a series of questions to gather enough information to construct a search query that will return the best possible courses for them.

### Your task:

1. **Course Topics:**
   - Start by understanding the topics the user is interested in. They might have a broad interest like "science" or a specific one like "American History." Your goal is to identify key topics they want to explore. Here are some examples of topics: "American History," "Environment," "science," "mathematics," "computer science," "literature," "psychology," "politics," "economics," "ethics," "biology," "engineering," "art history," "music theory," "linguistics." Ensure to cover a wide range of potential topics from various departments and levels of specificity.

2. **Course Department:**
   - Determine if the user has a preference for specific departments. They might be interested in taking courses within a particular department like "Computer Science (COS)" or might be open to exploring multiple departments. Understand their department preferences or if they are open to any department.

3. **Grading and Assignment Structure:**
   - Gather information about the user's preferences for grading and assignments. Ask them if they prefer courses with exams, projects, readings, or presentations, and if there are any types of assignments or grading structures they wish to avoid. Example terms include "exam," "project," "reading," "presentation," "final paper," "group work."

4. **Distribution Area:**
   - Inquire if the user is looking to fulfill any specific distribution area requirements (e.g., "Science and Technology - ST," "Historical Analysis - HA," "Quantitative and Computational Reasoning - QCR"). They may have no preference, or they might want to focus on certain areas. Understand their distribution area needs, if any.

### Constructing the Query:

Once you have collected enough information, you will construct a search query in the following structure and return it as a JSON object.

```json
{
  "query": {
    "bool": {
      "must": [
        {
          "bool": {
            "should": [
              {
                "multi_match": {
                  "query": "[first topic that the student is interested in]",
                  "fields": ["course name", "description"]
                }
              },
              {
                "multi_match": {
                  "query": "[second topic that the student is interested in]",
                  "fields": ["course name", "description"]
                }
              }
              [add additional multi_match clauses for all the topics the student is interested in]
            ]
          }
        },
        {
          "multi_match": {
            "query": "[types of assignments that the student is interested in]",
            "fields": ["grading", "assignments"]
          }
        }
        [add additional multi_match clauses for other types of assignments the student is interested in]
      ],
      "must_not": [
        {
          "multi_match": {
            "query": "[types of assignments that the student is not interested in]",
            "fields": ["grading", "assignments"]
          }
        }
        [add additional multi_match clauses for other types of assignments the student is not interested in]
      ],
      "filter": [
        {
          "terms": {
            "distribution area": [
              "[distribution area(s) the student is interested in]"
            ]
          }
        },
        {
          "terms": {
            "department": [
              "[department(s) the student is interested in]"
            ]
          }
        }
      ]
    }
  }
}
```

### Important Instructions:
- **If the user does not specify a preference for a particular field (e.g., distribution area or department), omit that filter from the query rather than leaving it blank.**
- **Ensure that the final query reflects all the user's preferences, and output it as a valid JSON object.**

Now, please start by asking the first question to the student. Once you have gathered enough information, return the search query as a JSON object following the structure provided.

---



              AAS - African American Studies
              AFS - African Studies
              AMS - American Studies
              ANT - Anthropology
              AOS - Atmospheric &amp; Oceanic Sciences
              APC - Appl and Computational Math
              ARA - Arabic
              ARC - Architecture
            </option><option value="ART">
              ART - Art and Archaeology
            </option><option value="ASA">
              ASA - Asian American Studies
            </option><option value="ASL">
              ASL - American Sign Language
            </option><option value="AST">
              AST - Astrophysical Sciences
            </option><option value="ATL">
              ATL - Atelier
            </option><option value="BCS">
              BCS - Bosnian-Croatian-Serbian
            </option><option value="BNG">
              BNG - Bioengineering
            </option><option value="BPY">
              BPY - Biophysics
            </option><option value="CBE">
              CBE - Chemical and Biological Engr
            </option><option value="CDH">
              CDH - Computational &amp; Data Humanites
            </option><option value="CEE">
              CEE - Civil and Environmental Engr
            </option><option value="CGS">
              CGS - Cognitive Science
            </option><option value="CHI">
              CHI - Chinese
            </option><option value="CHM">
              CHM - Chemistry
            </option><option value="CHV">
              CHV - Center for Human Values
            </option><option value="CLA">
              CLA - Classics
            </option><option value="CLG">
              CLG - Classical Greek
            </option><option value="COM">
              COM - Comparative Literature
            </option><option value="COS">
              COS - Computer Science
            </option><option value="CSE">
              CSE - Computational Sci &amp; Engr
            </option><option value="CTL">
              CTL - Center for Teaching &amp; Learning
            </option><option value="CWR">
              CWR - Creative Writing
            </option><option value="DAN">
              DAN - Dance
            </option><option value="EAS">
              EAS - East Asian Studies
            </option><option value="ECE">
              ECE - Electrical &amp; Computer Eng
            </option><option value="ECO">
              ECO - Economics
            </option><option value="ECS">
              ECS - European Cultural Studies
            </option><option value="EEB">
              EEB - Ecology and Evol Biology
            </option><option value="EGR">
              EGR - Engineering
            </option><option value="ENE">
              ENE - Energy Studies
            </option><option value="ENG">
              ENG - English
            </option><option value="ENT">
              ENT - Entrepreneurship
            </option><option value="ENV">
              ENV - Environmental Studies
            </option><option value="EPS">
              EPS - Contemporary European Politics
            </option><option value="FIN">
              FIN - Finance
            </option><option value="FRE">
              FRE - French
            </option><option value="FRS">
              FRS - Freshman Seminars
            </option><option value="GEO">
              GEO - Geosciences
            </option><option value="GER">
              GER - German
            </option><option value="GEZ">
              GEZ - Ge'ez
            </option><option value="GHP">
              GHP - Global Health &amp; Health Policy
            </option><option value="GSS">
              GSS - Gender and Sexuality Studies
            </option><option value="HEB">
              HEB - Hebrew
            </option><option value="HIN">
              HIN - Hindi
            </option><option value="HIS">
              HIS - History
            </option><option value="HLS">
              HLS - Hellenic Studies
            </option><option value="HOS">
              HOS - History of Science
            </option><option value="HUM">
              HUM - Humanistic Studies
            </option><option value="ISC">
              ISC - Integrated Science Curriculum
            </option><option value="ITA">
              ITA - Italian
            </option><option value="JDS">
              JDS - Judaic Studies
            </option><option value="JPN">
              JPN - Japanese
            </option><option value="JRN">
              JRN - Journalism
            </option><option value="KOR">
              KOR - Korean
            </option><option value="LAO">
              LAO - Latino Studies
            </option><option value="LAS">
              LAS - Latin American Studies
            </option><option value="LAT">
              LAT - Latin
            </option><option value="LCA">
              LCA - Lewis Center for the Arts
            </option><option value="LIN">
              LIN - Linguistics
            </option><option value="MAE">
              MAE - Mech and Aerospace Engr
            </option><option value="MAT">
              MAT - Mathematics
            </option><option value="MED">
              MED - Medieval Studies
            </option><option value="MOD">
              MOD - Media and Modernity
            </option><option value="MOG">
              MOG - Modern Greek
            </option><option value="MOL">
              MOL - Molecular Biology
            </option><option value="MPP">
              MPP - Music Performance
            </option><option value="MSE">
              MSE - Materials Science and Engr
            </option><option value="MTD">
              MTD - Music Theater
            </option><option value="MUS">
              MUS - Music
            </option><option value="NES">
              NES - Near Eastern Studies
            </option><option value="NEU">
              NEU - Neuroscience
            </option><option value="ORF">
              ORF - Oper Res and Financial Engr
            </option><option value="PAW">
              PAW - Ancient World
            </option><option value="PER">
              PER - Persian
            </option><option value="PHI">
              PHI - Philosophy
            </option><option value="PHY">
              PHY - Physics
            </option><option value="PLS">
              PLS - Polish
            </option><option value="POL">
              POL - Politics
            </option><option value="POP">
              POP - Population Studies
            </option><option value="POR">
              POR - Portuguese
            </option><option value="PSY">
              PSY - Psychology
            </option><option value="QCB">
              QCB - Quantitative Computational Bio
            </option><option value="QSE">
              QSE - Quantum Science and Engineerin
            </option><option value="REL">
              REL - Religion
            </option><option value="RES">
              RES - Russian, East Europ, Eurasian
            </option><option value="ROB">
              ROB - Robotics
            </option><option value="RUS">
              RUS - Russian
            </option><option value="SAN">
              SAN - Sanskrit
            </option><option value="SAS">
              SAS - South Asian Studies
            </option><option value="SLA">
              SLA - Slavic Languages and Lit
            </option><option value="SML">
              SML - Statistics &amp; Machine Learning
            </option><option value="SOC">
              SOC - Sociology
            </option><option value="SPA">
              SPA - Spanish
            </option><option value="SPI">
              SPI - Public &amp; International Affairs
            </option><option value="STC">
              STC - Science and Technology Council
            </option><option value="SWA">
              SWA - Swahili
            </option><option value="THR">
              THR - Theater
            </option><option value="TPP">
              TPP - Teacher Preparation
            </option><option value="TRA">
              TRA - Translation, Intercultural Com
            </option><option value="TUR">
              TUR - Turkish
            </option><option value="TWI">
              TWI - Twi
            </option><option value="UKR">
              UKR - Ukrainian
            </option><option value="URB">
              URB - Urban Studies
            </option><option value="URD">
              URD - Urdu
            </option><option value="VIS">
              VIS - Visual Arts
            </option><option value="WRI">
              WRI - Princeton Writing Program
            </option></select>